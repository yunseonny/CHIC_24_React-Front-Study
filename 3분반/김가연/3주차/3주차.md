# Chapter 1-17 ~ 1-22
## ğŸ“‘ ì»´í¬ë„ŒíŠ¸ ì´ë²¤íŠ¸ ë§Œë“¤ê¸°

```
// App.js ì½”ë“œ -> onChangePage()ì™€ props, state í†µí•´ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒì‹œ mode ë³€ê²½

import React, { Component } from "react";
import "./App.css";
import TOC from "./Component/TOC";
import Content from "./Component/Content";
import Subject from "./Component/Subject";

class App extends Component {
  constructor(props) {
    super(props);
    this.state = {
      mode: "read",
      subject: { title: "WEB", sub: "World Wide Web!!" },
      welcome: { title: "Welcome", sub: "Hello, React!" },
      contents: [
        { id: 1, title: "HTML", desc: "HTML is for information" },
        { id: 2, title: "CSS", decs: "CSS is for design" },
        { id: 3, title: "JavaScript", decs: "JavaScript if for interactive" },
      ],
    };
  }

  render() {
    console.log("App reader"); // render í•¨ìˆ˜ í˜¸ì¶œ ìˆœì„œë¥¼ ì•Œì•„ë³´ê¸° ìœ„í•œ í•¨ìˆ˜.
    var _title,
      _desc = null;

    if (this.state.mode === "welcome") {
      {
        /* stateì˜ mode ê°’ì´ 'welcome'ì¼ ë•Œ*/
      }
      _title = this.state.welcome.title; // _title ê°’ì„ this.state.titleë¡œ ì§€ì •
      _desc = this.state.welcome.decs; // _descì˜ ê°’ì„ this.state.welcome.descë¡œ ê°ê° ì§€ì •
    } else if (this.state.mode === "read") {
      {
        /* stateì˜ mode ê°’ì´ 'read'ì¼ ë•ŒëŠ” */
      }
      _title = this.state.contents[0].title; //_title ê°’ì„ this.state.contents[0].titleë¡œ ì§€ì •
      _desc = this.state.contents[0].decs; //_desc ê°’ì„ this.state.contents[0].descë¡œ ì§€ì •
    }

    console.log("render", this); // ì»´í¬ë„ŒíŠ¸ ìê¸° ìì‹ ì„ ê°€ë¦¬í‚¤ëŠ” this ì¶œë ¥

    return (
      <div className="App">
        
        <Subject
          title={this.state.subject.title}
          sub={this.state.subject.sub}
          onChangePage={function(){
            this.setState({mode: 'welcome'}); // onChangePage í•¨ìˆ˜ì—ì„œ stateê°’ ë³€ê²½í•˜ê¸°
          }.bind(this)}>
          </Subject>

        <TOC //list í•­ëª©ë“¤ ëˆ„ë¥´ë©´ 'hi'ë¼ëŠ” ì•ŒëŒì°½ ëœ¨ê²Œ ë§Œë“¤ê¸°
        onChangePage={function() {
          this.setState({mode: 'read'}); // onChangePage í•¨ìˆ˜ì—ì„œ stateê°’ ë³€ê²½í•˜ê¸°
        }.bind(this)} 
        data={this.state.contents}></TOC>

        <Content title={this.state.subject.title} desc={_desc}></Content>
      </div>
    );
  }
}

export default App;

```
```
// Subject.js ì½”ë“œ
class Subject extends Component {
  render() {
    return (
      <header>
          <h1>
            <a
              href="/"
              onClick={function (e) {
                e.preventDefault();
                this.props.onChangePage();
              }.bind(this)}>{this.props.title}
            </a>
          </h1>
          {this.props.sub}
        </header>
    )}
  }
```
```
// TOC.js ì½”ë“œ

import React, { Component } from "react";
class TOC extends Component {
    render() {
      console.log('TOC render');
      
      var lists= [];
      var data = this.props.data;
      var i = 0;

      while(i < data.length) {
        lists.push(
        <li key={data[i].id}>
          <a href={"/contents/"+data[i].id}
          onClick={function(e) { // a íƒœê·¸ ì•ˆì—ì„œ ë°œìƒí•˜ëŠ” onClick ì´ë²¤íŠ¸ ì •ì˜
            e.preventDefault(); // ì´ë²¤íŠ¸ ì‹¤í–‰ì‹œ í˜ì´ì§€ê°€ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ preventDefault í•¨ìˆ˜ ì‹¤í–‰
            this.props.onChangePage();
          }.bind(this)}
          >{data[i].title}</a></li>);
        i = i + 1
      }
      return(
        <nav>
            <ul>
                {lists}
            </ul>
        </nav>
      );
    }
  }

export default TOC;
```
### â–¶ï¸id ê°’ ì§€ì •
```
//main.js ì½”ë“œ

class App extends Component {
  constructor(props) {
    super(props);
    this.state = {
      mode: "read",
      selected_content_id: 2, //í˜„ì¬ í™œì„±í™”ëœ (ì„ íƒëœ) ì½˜í…ì¸ ê°€ í‘œì‹œë˜ê²Œ ë§Œë“¤ê¸°ìœ„í•´ ì¶”ê°€ëœ state ì†ì„± / ì´ˆê¹ƒê°’ 2 ì´ë¯€ë¡œ this.contentsì˜ ë‘ ë²ˆì§¸ ê°’, CSSê°€ í•´ë‹¹ëœë‹¤.
      subject: { title: "WEB", sub: "World Wide Web!!" },
      welcome: { title: "Welcome", sub: "Hello, React!" },
      contents: [
        { id: 1, title: "HTML", desc: "HTML is for information" },
        { id: 2, title: "CSS", decs: "CSS is for design" },
        { id: 3, title: "JavaScript", decs: "JavaScript if for interactive" },
      ],
    };
  }
~ìƒëµ~
} else if (this.state.mode === "read") {
      {
        var i = 0;
        while(i < this.state.contents.length) {
          var data = this.state.contents[i];
          if (data.id === this.state.selected_content_id) { // data.id ê°’ê³¼ this.state.selected_content_id ê°’ì´ ì¼ì¹˜í•˜ëŠ” ê²ƒì´ ë°œê²¬ë˜ë©´
            _title = data.title; // _title ê°’ê³¼
            _desc = data.decs; // _desc ê°’ì€ TOC ì»´í¬ë„ŒíŠ¸ì˜ propsë¡œ ë„˜ì–´ê°.
            break;
          }
          i = i + 1;
        }
      }
    }
```
```
// TOC.js ì½”ë“œ
// onChangePage í•¨ìˆ˜ë¥¼ í˜¸ì¶œí• ë•Œ í´ë¦­í•œ í•­ëª©ì˜ id ê°’ì„ ì¸ìë¡œ ì „ë‹¬

while(i < data.length) {
        lists.push(
        <li key={data[i].id}>
          <a href={"/contents/"+data[i].id}
          data-id = {data[i].id} //data-id ì†ì„± ì¶”ê°€, id ê°’ í• ë‹¹
          onClick={function(e) { // a íƒœê·¸ ì•ˆì—ì„œ ë°œìƒí•˜ëŠ” onClick ì´ë²¤íŠ¸ ì •ì˜
            e.preventDefault(); // ì´ë²¤íŠ¸ ì‹¤í–‰ì‹œ í˜ì´ì§€ê°€ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ preventDefault í•¨ìˆ˜ ì‹¤í–‰
            this.props.onChangePage(e.target.dataset.id); //onClick í•¨ìˆ˜ì˜ ì¸ìë¡œ ì „ë‹¬ëœ e ê°ì²´ë¥¼ í™œìš©í•´ id ê°’ì„ êµ¬í•´ onChangePage í•¨ìˆ˜ í˜¸ì¶œ
            this.props.onChangePage();
          }.bind(this)}
          >{data[i].title}</a></li>);
        i = i + 1
      }
```

  * ì´ë²¤íŠ¸ ê°ì²´ ë‚´ì˜ target ì†ì„±: ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ íƒœê·¸, ì¦‰ ì—¬ê¸°ì„œëŠ” `<a>`íƒœê·¸ì— ì§€ì •í•´ë‘” data-idì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ë˜ëŠ”ê²ƒ.

## ğŸ“‘ ì¤‘ê°„ ê°œë… ì •ë¦¬
  * ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ì™¸ë¶€ì—ì„œ ì „ë‹¬ëœ props ê°’ì„ ë°”ê¾¸ëŠ” ê²ƒ ê¸ˆì§€ë˜ì–´ ìˆìŒ. (propsëŠ” ì½ê¸° ì „ìš©)
  * ì»´í¬ë„ŒíŠ¸ëŠ” propsì™€ state ì˜í–¥ì— ë”°ë¼ ì–´ë–¤ ìƒíƒœê°€ ë  í…ë°, ê·¸ ìƒíƒœê°€ ì‹¤ì œ ì›¹ ë¸Œë¼ìš°ì €ì˜ HTML(DOM)ì´ë¼ê³  í•˜ëŠ”ê²ƒì— ì˜í–¥ì„ ì¤˜ì„œ UIê°€ ê·¸ë ¤ì§„ë‹¤.
  * ìƒìœ„ì»´í¬ë„ŒíŠ¸ -> í•˜ìœ„ì»´í¬ë„ŒíŠ¸ë¡œ ê°’ ì „ë‹¬í•˜ëŠ”ê²½ìš°: props í†µí•´ ì „ë‹¬ / í•˜ìœ„ì»´í¬ë„ŒíŠ¸ -> ìƒìœ„ì»´í¬ë„ŒíŠ¸ë¡œ ê°’ ì „ë‹¬í•˜ëŠ” ê²½ìš°: ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©.
  * Redux ê°œë… ê°„ë‹¨ ì •ë¦¬: ë°ì´í„°ë¥¼ ê° ì»´í¬ë„ŒíŠ¸ì— ë¶„ì‚°í•´ì„œ ë³´ê´€í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í•˜ë‚˜ì˜ ë°ì´í„° ì €ì¥ì†Œê°€ ìˆì–´ì„œ ë°ì´í„° ì €ì¥ì†Œì˜ ê°’ì´ ë°”ë€Œë©´í•´ë‹¹ ê°’ê³¼ ê´€ë ¨ëœ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ì•Œì•„ì„œ ë°”ë€Œê²Œ í•˜ëŠ” ê¸°ë²•

## ğŸ“‘ Create êµ¬í˜„
### â–¶ï¸ ëª¨ë“œ ë³€ê²½ ê¸°ëŠ¥
: Creat, Update, delete ë§í¬/ë²„íŠ¼ì„ ë§Œë“œëŠ” ì»´í¬ë„ŒíŠ¸ ì‘ì„±, ì»´í¬ë„ŒíŠ¸ ì´ë²¤íŠ¸ ì¶”ê°€ -> create, update, deleteë¥¼ í´ë¦­í•  ë•Œ App ì»´í¬ë„ŒíŠ¸ì˜ state mode ê°’ì´ ë³€ê²½ë¨
```
//App.js ì½”ë“œ

class App extends Component {
  constructor(props) {
    super(props);
    this.state = {
      mode: "read",
      selected_content_id: 1, // ê¸°ë³¸ê°’ì„ 1ë¡œ ì„¤ì •
      subject: { title: "WEB", sub: "World Wide Web!!" },
      welcome: { title: "Welcome", sub: "Hello, React!" },
      contents: [
        { id: 1, title: "HTML", desc: "HTML is for information" },
        { id: 2, title: "CSS", desc: "CSS is for design" },
        { id: 3, title: "JavaScript", desc: "JavaScript is for interactive" },
      ],
    };
  }

  render() {
    console.log("App render");

    var _title,
      _desc = null;

    if (this.state.mode === "welcome") {
      // stateì˜ mode ê°’ì´ 'welcome'ì¼ ë•Œ
      _title = this.state.welcome.title;
      _desc = this.state.welcome.sub; // _descì˜ ê°’ì„ this.state.welcome.subë¡œ ì§€ì •
    } else if (this.state.mode === "read") {
      // stateì˜ mode ê°’ì´ 'read'ì¼ ë•Œ
      var i = 0;
      while (i < this.state.contents.length) {
        var data = this.state.contents[i];
        if (data.id === this.state.selected_content_id) {
          _title = data.title;
          _desc = data.desc; // descë¡œ ìˆ˜ì •
          break;
        }
        i = i + 1;
      }
    }

    console.log("render", this);

    return (
      <div className="App">
        <Subject
          title={this.state.subject.title}
          sub={this.state.subject.sub}
          onChangePage={function () {
            this.setState({ mode: "welcome" }); // onChangePage í•¨ìˆ˜ì—ì„œ state ê°’ ë³€ê²½
          }.bind(this)}
        ></Subject>
        <TOC
          onChangePage={function (id) {
            this.setState({
              mode: "read",
              selected_content_id: Number(id),
            }); // onChangePage í•¨ìˆ˜ì—ì„œ state ê°’ ë³€ê²½
          }.bind(this)}
          data={this.state.contents}
        ></TOC>
        <Control
          onChangeMode={function (_mode) {
            this.setState({
              mode: _mode,
            });
          }.bind(this)} // this ë°”ì¸ë”© ì¶”ê°€
        ></Control>{" "}
        {/*Control ì»´í¬ë„ŒíŠ¸ ì¶”ê°€*/}
        <Content title={_title} desc={_desc}></Content>
      </div>
    );
  }
}

export default App;

```
```
//Control.js ì½”ë“œ

import React, { Component } from "react";

class Subject extends Component {
  render() {
    console.log('Control render');
    return (
      <ul>
          <li><a href="/create" onClick={function(e) { //ê° ë¦¬ìŠ¤íŠ¸-aíƒœê·¸ì— ì´ë²¤íŠ¸ ì¶”ê°€í•´ì£¼ê¸°
            e.preventDefault();
            this.props.onChangeMode('create');
          }.bind(this)}>create</a></li>

          <li><a href="/update" onClick={function(e) {
            e.preventDefault();
            this.props.onChangeMode('update');
          }.bind(this)}>update</a></li>

          <li><input onClick={function(e){
            this.props.onChangeMode('delete');
          }.bind(this)} type="button" value="delete"></input></li>
      </ul>
    )}
  }

export default Subject;
```
### â–¶ï¸ CreateContentì™€ ReadContent ë¶„ë¦¬
: ê¸°ì¡´ Content.js íŒŒì¼ëª…ì„ ReadContent.jsë¡œ ìˆ˜ì • (ì½ê¸° ì „ìš© ì»¨í…ì¸  ì´ë¯€ë¡œ)

### â–¶ï¸ create ë§í¬ í´ë¦­í–ˆì„ë•Œ CreateContent í™”ë©´ ë„ìš°ê¸°
* onSubmit í•¨ìˆ˜: ì‚¬ìš©ìê°€ í¼ì„ ì œì¶œí•  ë•Œ í˜¸ì¶œë˜ë©°, ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ í¼ ì œì¶œ ì‹œì˜ ë™ì‘ì„ ì œì–´í•  ìˆ˜ ìˆê²Œ í•œë‹¤. ì´ë²¤íŠ¸ ê°ì²´ë¥¼ í†µí•´ í¼ ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ í†µí•´ ë°ì´í„° ê²€ì¦, API í˜¸ì¶œ ë“±ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.
```
//App.js ì½”ë“œ

class App extends Component {
  constructor(props) {
    super(props);
    this.state = {
      mode: "read",
      selected_content_id: 1, // ê¸°ë³¸ê°’ì„ 1ë¡œ ì„¤ì •
      subject: { title: "WEB", sub: "World Wide Web!!" },
      welcome: { title: "Welcome", sub: "Hello, React!" },
      contents: [
        { id: 1, title: "HTML", desc: "HTML is for information" },
        { id: 2, title: "CSS", desc: "CSS is for design" },
        { id: 3, title: "JavaScript", desc: "JavaScript is for interactive" },
      ],
    };
  }

  render() {
    console.log("App render");

    var _title,
      _desc,
      _article = null;

    if (this.state.mode === "welcome") {
      // stateì˜ mode ê°’ì´ 'welcome'ì¼ ë•Œ
      _title = this.state.welcome.title;
      _desc = this.state.welcome.sub; // _descì˜ ê°’ì„ this.state.welcome.subë¡œ ì§€ì •
      _article = <ReadContent title={_title} desc={_desc}></ReadContent>;
    } else if (this.state.mode === "read") {
      // stateì˜ mode ê°’ì´ 'read'ì¼ ë•Œ
      var i = 0;
      while (i < this.state.contents.length) {
        var data = this.state.contents[i];
        if (data.id === this.state.selected_content_id) {
          _title = data.title;
          _desc = data.desc; // descë¡œ ìˆ˜ì •
          break;
        }
        i = i + 1;
      }
      _article = <ReadContent title={_title} desc={_desc}></ReadContent>;
    } else if (this.state.mode === "create") {
      _article = <CreateContent onSubmit={function (_title, _desc){ //CreateContent ì»´í¬ë„ŒíŠ¸ì˜ onSubmitì´ë¼ëŠ” propsì— í•¨ìˆ˜ë¥¼ ì§€ì •
        console.log(_title, _desc);
      }.bind(this)}></CreateContent>
    }

    console.log("render", this);

    return (
      <div className="App">
        <Subject
          title={this.state.subject.title}
          sub={this.state.subject.sub}
          onChangePage={function () {
            this.setState({ mode: "welcome" }); // onChangePage í•¨ìˆ˜ì—ì„œ state ê°’ ë³€ê²½
          }.bind(this)}
        ></Subject>
        <TOC
          onChangePage={function (id) {
            this.setState({
              mode: "read",
              selected_content_id: Number(id),
            }); // onChangePage í•¨ìˆ˜ì—ì„œ state ê°’ ë³€ê²½
          }.bind(this)}
          data={this.state.contents}
        ></TOC>
        <Control
          onChangeMode={function (_mode) {
            this.setState({
              mode: _mode,
            });
          }.bind(this)}
        ></Control>
        {_article}
        {/*ReadContent ì˜ì—­ì´ ê°€ë³€ì ìœ¼ë¡œ ë°”ë€” ìˆ˜ ìˆë„ë¡ _articleë¡œ ì²˜ë¦¬*/}
      </div>
    );
  }
}

export default App;

```
```
// CreateContent.js ì½”ë“œ

class CreateContent extends Component {
  render() {
    console.log("Content render");

    return (
      <article>
        <h2>Create</h2>
        <form
          action="/create_process"
          method="post"
          onSubmit={function (e) {
            e.preventDefault();
            this.props.onSubmit( // onSubmit í•¨ìˆ˜ ì‘ì„±
              e.target.title.value, // App ì»´í¬ë„ŒíŠ¸ì—ì„œ CreateContent ì»´í¬ë„ŒíŠ¸ì˜ onSubmit propsë¡œ ì§€ì •í–ˆë˜ í•¨ìˆ˜ì— ì´ ê°’(title, desc)ë“¤ì´ ì „ë‹¬ë¨.
              e.target.desc.value
            );
            alert("Subit!!");
          }.bind(this)}
        >
          <p>
            <input type="text" name="title" placeholder="title"></input>
          </p>
          <textarea name="desc" placeholder="description"></textarea>
          <p>
            <input type="submit"></input>
          </p>
        </form>
      </article>
    );
  }
}

export default CreateContent;

```

### â–¶ï¸ CreateContentì—ì„œ ì‘ì„±í•œ ë‚´ìš©ì„ listì™€ ë³¸ë¬¸ì— ë°˜ì˜ë˜ê²Œ ë§Œë“¤ê¸°
* pushì™€ concatì˜ ê³µí†µì , ì°¨ì´ì :
  - ê³µ: ì›ì†Œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.
  - ì°¨: pushëŠ” ì›ë³¸ì„ ë³€ê²½í•˜ì§€ë§Œ, concatì€ ì›ë³¸ì„ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤. -> concatì€ ì›ë³¸ì€ ê·¸ëŒ€ë¡œì´ì§€ë§Œ concatì„ ì‹¤í–‰í•˜ë©´ ì›ë³¸ì„ ë³€ê²½í•œ ìƒˆë¡œìš´ ë°°ì—´ì´ ë°˜í™˜ëœë‹¤. ê·¸ëŸ¼ ë°˜í™˜ëœ ìƒˆ ë°°ì—´ì„ ì“°ë©´ ëœë‹¤.
        ì•± ì„±ëŠ¥ ê°œì„ ì— ìœ ìš©.
  ==> ê²°ë¡ ? push ì‚¬ìš© ì§€ì–‘í•  ê²ƒ!
```
//App.js ì½”ë“œ

class App extends Component {
  constructor(props) {
    super(props);
    this.max_content_id = 3; //App ì»´í¬ë„ŒíŠ¸ í´ë˜ìŠ¤ì˜ max_content_id ë¼ëŠ” í”„ë¡œí¼í‹° ì¶”ê°€ (UIì— ì˜í–¥ ì•ˆ ì£¼ëŠ” ê°’ì´ê¸° ë•Œë¬¸ì—, ë¶ˆí•„ìš”í•œ ë Œë”ë§ ë°©ì§€í•˜ê³ ì stateì•ˆì— ì•ˆ ë„£ì€ ê²ƒ.)
    this.state = {
      mode: "read",
      selected_content_id: 1, // ê¸°ë³¸ê°’ì„ 1ë¡œ ì„¤ì •
      subject: { title: "WEB", sub: "World Wide Web!!" },
      welcome: { title: "Welcome", sub: "Hello, React!" },
      contents: [
        { id: 1, title: "HTML", desc: "HTML is for information" },
        { id: 2, title: "CSS", desc: "CSS is for design" },
        { id: 3, title: "JavaScript", desc: "JavaScript is for interactive" },
      ],
    };
  }

  render() {
    console.log("App render");

    var _title,
      _desc,
      _article = null;

    if (this.state.mode === "welcome") {
      // stateì˜ mode ê°’ì´ 'welcome'ì¼ ë•Œ
      _title = this.state.welcome.title;
      _desc = this.state.welcome.sub; // _descì˜ ê°’ì„ this.state.welcome.subë¡œ ì§€ì •
      _article = <ReadContent title={_title} desc={_desc}></ReadContent>;
    } else if (this.state.mode === "read") {
      // stateì˜ mode ê°’ì´ 'read'ì¼ ë•Œ
      var i = 0;
      while (i < this.state.contents.length) {
        var data = this.state.contents[i];
        if (data.id === this.state.selected_content_id) {
          _title = data.title;
          _desc = data.desc; // descë¡œ ìˆ˜ì •
          break;
        }
        i = i + 1;
      }
      _article = <ReadContent title={_title} desc={_desc}></ReadContent>;
    } else if (this.state.mode === "create") {
      _article = (
        <CreateContent
          onSubmit={function (_title, _desc) {
            this.max_content_id = this.max_content_id + 1;
            var _contents = this.state.contents.concat({
              //ì›ë³¸ì„ ë°”ê¾¸ì§€ ì•ŠëŠ” pushë¥¼ ì‚¬ìš©í•´ ì›ì†Œë¥¼ ì¶”ê°€í•˜ê¸°
              id: this.max_content_id,
              title: _title,
              desc: _desc,
            });
            this.setState({
              contents: _contents,
            });
            console.log(_title, _desc);
          }.bind(this)}
        ></CreateContent>
      );
    }

    console.log("render", this);

    return (
      <div className="App">
        <Subject
          title={this.state.subject.title}
          sub={this.state.subject.sub}
          onChangePage={function () {
            this.setState({ mode: "welcome" }); // onChangePage í•¨ìˆ˜ì—ì„œ state ê°’ ë³€ê²½
          }.bind(this)}
        ></Subject>
        <TOC
          onChangePage={function (id) {
            this.setState({
              mode: "read",
              selected_content_id: Number(id),
            }); // onChangePage í•¨ìˆ˜ì—ì„œ state ê°’ ë³€ê²½
          }.bind(this)}
          data={this.state.contents}
        ></TOC>
        <Control
          onChangeMode={function (_mode) {
            this.setState({
              mode: _mode,
            });
          }.bind(this)}
        ></Control>
        {_article}
        {/*ReadContent ì˜ì—­ì´ ê°€ë³€ì ìœ¼ë¡œ ë°”ë€” ìˆ˜ ìˆë„ë¡ _articleë¡œ ì²˜ë¦¬*/}
      </div>
    );
  }
}

export default App;
```
```
//CreateContent.js ì½”ë“œ

import React, { Component } from "react";

class CreateContent extends Component {
  render() {
    console.log("Content render");

    return (
      <article>
        <h2>Create</h2>
        <form
          action="/create_process"
          method="post"
          onSubmit={function (e) {
            e.preventDefault();
            this.props.onSubmit( // onSubmit í•¨ìˆ˜ ì‘ì„±
              e.target.title.value, // App ì»´í¬ë„ŒíŠ¸ì—ì„œ CreateContent ì»´í¬ë„ŒíŠ¸ì˜ onSubmit propsë¡œ ì§€ì •í–ˆë˜ í•¨ìˆ˜ì— ì´ ê°’(title, desc)ë“¤ì´ ì „ë‹¬ë¨.
              e.target.desc.value
            );
            alert("Subit!!");
          }.bind(this)}
        >
          <p>
            <input type="text" name="title" placeholder="title"></input>
          </p>
          <textarea name="desc" placeholder="description"></textarea>
          <p>
            <input type="submit"></input>
          </p>
        </form>
      </article>
    );
  }
}

export default CreateContent;
```
### â–¶ï¸ shouldComponentUpdate í•¨ìˆ˜
: ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ì˜ render í•¨ìˆ˜ê°€ ì‹¤í–‰ë¼ì•¼ í•˜ëŠ”ì§€ ì‹¤í–‰ë˜ì§€ ì•Šì•„ì•¼ í•˜ëŠ”ì§€ ê°œë°œìê°€ ê²°ì •í•  ìˆ˜ ìˆê²Œ ì œê³µë˜ëŠ” íŠ¹ìˆ˜í•œ í•¨ìˆ˜ ( trueë©´ render í•¨ìˆ˜ í˜¸ì¶œ, falseë©´ render í•¨ìˆ˜ í˜¸ì¶œX )
shouldComponentUpdate í†µí•´ ìƒˆë¡­ê²Œ ë°”ë€ ê°’ê³¼ ì´ì „ ê°’ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
```
shouldComponentUpdate() {
    console.log(
      "==> TOC render shouldComponentUpdate",
      newProps.data, //ë°”ë€ ê°’ ì•Œ ìˆ˜ ìˆìŒ
      this.props.data //í˜„ì¬ ê°’ ì•Œ ìˆ˜ ìˆìŒ
    ); //shouldComponentUpdate í†µí•´ ìƒˆë¡­ê²Œ ë°”ë€ ê°’ê³¼ ì´ì „ ê°’ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
    return true;
  }
```

```
// TOC.js ì½”ë“œ

import React, { Component } from "react";
class TOC extends Component {
  //ì»´í¬ë„ŒíŠ¸ì˜ renderê°€ í˜¸ì¶œë˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ console.logë¥¼ ì¶”ê°€
  shouldComponentUpdate(newProps, newState) {
    console.log(
      "==> TOC render shouldComponentUpdate",
      newProps.data, //ë°”ë€ ê°’ ì•Œ ìˆ˜ ìˆìŒ
      this.props.data //í˜„ì¬ ê°’ ì•Œ ìˆ˜ ìˆìŒ
    );
    if (this.props.data === newProps.data) { // ê°’ì´ ë°”ë€ê²Œ ì—†ë‹¤ëŠ” ì˜ë¯¸ì´ë¯€ë¡œ false
      return false;
    }
    return true; //ê°’ì´ ë°”ë€Œë©´ trueí•´ì„œ ë Œë”ë§ ë‹¤ì‹œí•˜ê¸°
  }
  render() {
    console.log("TOC render");

    var lists = [];
    var data = this.props.data;
    var i = 0;

    while (i < data.length) {
      lists.push(
        <li key={data[i].id}>
          <a
            href={"/contents/" + data[i].id}
            data-id={data[i].id} //data-id ì†ì„± ì¶”ê°€, id ê°’ í• ë‹¹
            onClick={function (e) {
              // a íƒœê·¸ ì•ˆì—ì„œ ë°œìƒí•˜ëŠ” onClick ì´ë²¤íŠ¸ ì •ì˜
              e.preventDefault(); // ì´ë²¤íŠ¸ ì‹¤í–‰ì‹œ í˜ì´ì§€ê°€ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ preventDefault í•¨ìˆ˜ ì‹¤í–‰
              this.props.onChangePage(e.target.dataset.id); //onClick í•¨ìˆ˜ì˜ ì¸ìë¡œ ì „ë‹¬ëœ e ê°ì²´ë¥¼ í™œìš©í•´ id ê°’ì„ êµ¬í•´ onChangePage í•¨ìˆ˜ í˜¸ì¶œ
            }.bind(this)}
          >
            {data[i].title}
          </a>
        </li>
      );
      i = i + 1;
    }
    return (
      <nav>
        <ul>{lists}</ul>
      </nav>
    );
  }
}

export default TOC;
```

## ğŸ“‘ Update ê¸°ëŠ¥ êµ¬í˜„
### â–¶ï¸ getContent() êµ¬í˜„, getReadContent() êµ¬í˜„, UpdateContent ì»´í¬ë„ŒíŠ¸ì˜ form íƒœê·¸ ë¶€ë¶„ êµ¬í˜„, ì—…ë°ì´íŠ¸ ê¸°ëŠ¥ êµ¬í˜„

* inputíƒœê·¸ ì‘ì„±ì‹œ ì£¼ì˜ í–ˆì–´ì•¼ í–ˆë˜ ë¶€ë¶„! -> onChangeë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  props ê°’ì„ ì§ì ‘ valueì— ë„£ìœ¼ë©´ ì½ê¸° ì „ìš©ì´ ëœë‹¤. --> constructor êµ¬í˜„í•´ì„œ propsì˜ ê°’ì„ UpdateContentì˜ stateê°’ì— ë„£ì–´ ê°€ë³€ì  ë°ì´í„°ëŠ” stateì— ë“¤ì–´ê°€ê²Œ í•˜ê¸°. stateê°’ì„ ë³€ê²½í•˜ê¸° ìœ„í•´ setState ì‚¬ìš©í•˜ê¸°. ì´ ë•Œ onChangeë¥¼ ë°˜ë“œì‹œ ì¨ì•¼í•œë‹¤. (stateì™€ input íƒœê·¸ì˜ ì—°ê²°ì´ ëŠê¸°ì§€ ì•Šìœ¼ë©´ì„œ, ì½ê¸° ì „ìš© ìƒíƒœê°€ ì•„ë‹Œ ê²ƒì´ ë˜ê²Œ í•˜ê¸°)

* hidden: idì™€ ê°™ì´ ì‚¬ìš©ìì—ê²Œ ë³´ì¼ í•„ìš”ê°€ ì—†ì§€ë§Œ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì €ì¥í•  ë•Œ ì‚¬ìš©í•œë‹¤.
```
//App.js ì½”ë“œ

class App extends Component {
  constructor(props) {
    super(props);
    this.max_content_id = 3; //App ì»´í¬ë„ŒíŠ¸ í´ë˜ìŠ¤ì˜ max_content_id ë¼ëŠ” í”„ë¡œí¼í‹° ì¶”ê°€ (UIì— ì˜í–¥ ì•ˆ ì£¼ëŠ” ê°’ì´ê¸° ë•Œë¬¸ì—, ë¶ˆí•„ìš”í•œ ë Œë”ë§ ë°©ì§€í•˜ê³ ì stateì•ˆì— ì•ˆ ë„£ì€ ê²ƒ.)
    this.state = {
      mode: "read",
      selected_content_id: 1, // ê¸°ë³¸ê°’ì„ 1ë¡œ ì„¤ì •
      subject: { title: "WEB", sub: "World Wide Web!!" },
      welcome: { title: "Welcome", sub: "Hello, React!" },
      contents: [
        { id: 1, title: "HTML", desc: "HTML is for information" },
        { id: 2, title: "CSS", desc: "CSS is for design" },
        { id: 3, title: "JavaScript", desc: "JavaScript is for interactive" },
      ],
    };
  }

  //getContent() : Control ì•„ë˜ ì¶œë ¥ë˜ë˜ ë¶€ë¶„ {_article} ì´ this.getContent() í•¨ìˆ˜ ì•ˆìœ¼ë¡œ ë“¤ì–´ê°.
  getContent() {
    let _title, _desc, _article = null;
  
    if (this.state.mode === "welcome") {
      // welcome ëª¨ë“œì—ì„œëŠ” ReadContent ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•œë‹¤.
      _title = this.state.welcome.title;
      _desc = this.state.welcome.sub;
      _article = <ReadContent title={_title} desc={_desc}></ReadContent>;
    } else if (this.state.mode === "read") {
      // read ëª¨ë“œì—ì„œëŠ” getReadContent ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ì„ íƒëœ ì½˜í…ì¸ ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ReadContent ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•œë‹¤.
      var _content = this.getReadContent();
      _article = <ReadContent title={_content.title} desc={_content.desc}></ReadContent>;
    } else if (this.state.mode === "create") {
      // create ëª¨ë“œì—ì„œëŠ” CreateContent ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ê³ , ìƒˆë¡œìš´ ì½˜í…ì¸ ë¥¼ ì¶”ê°€í•œë‹¤.
      _article = (
        <CreateContent
          onSubmit={function (_title, _desc) {
            this.max_content_id = this.max_content_id + 1;
            var _contents = Array.from(this.state.contents);
            _content.push({id:this.max_content_id, title:_title, desc:_desc});
            this.setState({
              contents: _contents,
              mode: 'read',
              selected_content_id: this.max_content_id
            });
            console.log(_title, _desc);
          }.bind(this)}
        ></CreateContent>
      );
    } else if (this.state.mode === "update") {
      // update ëª¨ë“œì—ì„œëŠ” UpdateContent ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ê³ , ê¸°ì¡´ ì½˜í…ì¸ ë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤.
      var _content = this.getReadContent(); // ì„ íƒëœ ì½˜í…ì¸ ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
      _article = (
        <UpdateContent
          data={_content} // ì„ íƒëœ ì½˜í…ì¸ ì˜ ë°ì´í„°ë¥¼ UpdateContent ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•œë‹¤. _id, _title, _desc ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ì•„ì„œ í•´ë‹¹ ì½˜í…ì¸ ë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤.
          onSubmit={function (_id, _title, _desc) {
            var _contents = Array.from(this.state.contents); // ê¸°ì¡´ ì½˜í…ì¸  ë°°ì—´ì˜ ë³µì‚¬ë³¸ì„ ë§Œë“ ë‹¤. (ê¸°ì¡´ì— concatì„ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì„ Array.fromìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.)
            var i = 0;
            // _idì™€ ì¼ì¹˜í•˜ëŠ” ì½˜í…ì¸ ë¥¼ ì°¾ì•„ì„œ ì—…ë°ì´íŠ¸í•œë‹¤.
            while (i < _contents.length) {
              if (_contents[i].id === _id) {
                _contents[i] = { id: _id, title: _title, desc: _desc };
                break;
              }
              i = i + 1;
            }
            // ì—…ë°ì´íŠ¸ëœ ì½˜í…ì¸  ë°°ì—´ë¡œ stateë¥¼ ë³€ê²½í•œë‹¤.
            this.setState({
              contents: _contents,
              mode: 'read' // ë‚´ìš© Updateê°€ ì™„ë£Œë˜ë©´ modeê°€ readë¡œ ë³€ê²½ë˜ê²Œ
            });
            // ì—…ë°ì´íŠ¸ëœ ì½˜í…ì¸ ì˜ ì œëª©ê³¼ ì„¤ëª…ì„ ì½˜ì†”ì— ì¶œë ¥í•œë‹¤.
            console.log(_title, _desc);
          }.bind(this)} // onSubmit í•¨ìˆ˜ì˜ thisë¥¼ ì»´í¬ë„ŒíŠ¸ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë°”ì¸ë”©í•œë‹¤.
        ></UpdateContent>
      );
    }    
  
    return _article; // ì„¤ì •ëœ ë‚´ìš©ì„ ë°˜í™˜í•˜ì—¬ í™”ë©´ì— ì¶œë ¥
  }

  //getReadContent() : í˜„ì¬ ì„ íƒëœ ì½˜í…ì¸ ì˜ ë°ì´í„°ë¥¼ ë°˜í™˜í•œë‹¤. (state.selected_content_idì™€ ì¼ì¹˜í•˜ëŠ” ì½˜í…ì¸ ë¥¼ ì°¾ì•„ì„œ)
  getReadContent() {
    var i = 0;
    while(i < this.state.contents.length) {
      var data = this.state.contents[i];
      if (data.id === this.state.selected_content_id) {
        return data;
      }
      i = i + 1;
    }
  }

  render() {
    console.log("App render");

    return (
      <div className="App">
        <Subject
          title={this.state.subject.title}
          sub={this.state.subject.sub}
          onChangePage={function () {
            this.setState({ mode: "welcome" }); // onChangePage í•¨ìˆ˜ì—ì„œ state ê°’ ë³€ê²½
          }.bind(this)}
        ></Subject>
        <TOC
          onChangePage={function (id) {
            this.setState({
              mode: "read",
              selected_content_id: Number(id),
            }); // onChangePage í•¨ìˆ˜ì—ì„œ state ê°’ ë³€ê²½
          }.bind(this)}
          data={this.state.contents}
        ></TOC>
        <Control
          onChangeMode={function (_mode) {
            this.setState({
              mode: _mode,
            });
          }.bind(this)}
        ></Control>
        {this.getContent()}
      </div>
    );
  }
}

export default App;
```
```
// UpdateContent.js ì½”ë“œ
import React, { Component } from "react";

class UpdateContent extends Component {
    constructor(props) {
        super(props);
        this.state = {
            id: this.props.data.id,
            title: this.props.data.title,
            desc: this.props.data.desc,
        };
        this.inputFormHandler = this.inputFormHandler.bind(this); //onChange() ì¤‘ë³µ ì œê±°
    }
    inputFormHandler(e) {
        this.setState({[e.target.name]:e.target.value}); //onChange() ì¤‘ë³µ ì œê±°/ [e.target.name] --> ëŒ€ê´„í˜¸ ì‚¬ìš©í•˜ë©´ ê°ì²´ì—ì„œ ëŒ€ê´„í˜¸ ë‚´ì˜ ê°’ì„ í”„ë¡œí¼í‹°ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.
    } // e.target.name ê°’ì€ ì´ í•¨ìˆ˜ê°€ ë°›ëŠ” ì¸ì eì— ë”°ë¼ title ë˜ëŠ” descê°€ ëœë‹¤.
  render() {
    console.log(this.props.data);
    console.log("UpdateContent");

    return (
      <article>
        <h2>Update</h2>
        <form
          action="/create_process"
          method="post"
          onSubmit={function (e) {
            e.preventDefault();
            this.props.onSubmit(
              this.state.id,
              this.state.title,
              this.state.desc
            );
          }.bind(this)}
        >
        <input type="hidden" name="id" value={this.state.id}></input>
          <p>
            <input type="text"
                name="title"
                placeholder="title"
                value={this.state.title}
                onChange={this.inputFormHandler}>
            </input> {/* onChangeë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  props ê°’ì„ ì§ì ‘ valueì— ë„£ìœ¼ë©´ ì½ê¸° ì „ìš©ì´ ëœë‹¤. */}
          </p>
          <textarea
            name="desc"
            placeholder="description"
            value={this.state.desc}
            onChange={this.inputFormHandler}>
          </textarea>
          <p>
            <input type="submit"></input>
          </p>
        </form>
      </article>
    );
  }
}

export default UpdateContent;
```
## ğŸ“‘Delete ë²„íŠ¼ êµ¬í˜„
### â–¶ï¸ <Control></Control> ë¶€ë¶„ êµ¬í˜„ 
-> OnChangeMode ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì•ˆì—ì„œ _modeê°€ 'delete'ì¸ ê²½ìš°, ì½˜í…ì¸  ì‚­ì œ ë¡œì§ì„ ì‹¤í–‰. ê·¸ ì™¸ì˜ ê²½ìš°, mode ìƒíƒœë¥¼ _mode ê°’ìœ¼ë¡œ ë³€ê²½í•˜ê¸°.

```
<Control
          onChangeMode={function (_mode) {
            if(_mode === 'delete') {
              if (window.confirm('really?')) {
                var _contents = Array.from(this.state.contents);
                var i = 0;
                while (i < _contents.length) {
                  if (_contents[i].id === this.state.selected_content_id) {
                    _contents.splice(i, 1);
                    break;
                  }
                  i = i + 1;
                }
                this.setState({
                  mode: 'welcome',
                  contents: _contents
                });
                alert('deleted!')
              }
            }
            else {
              this.setState({
                mode: _mode
              });
            }
          }.bind(this)}
        ></Control>
```

## ğŸ“‘ immutable
: ë°°ì—´ ê°ì²´ë¥¼ ë¶ˆë³€ì ìœ¼ë¡œ ë‹¤ë£¨ê¸° ìœ„í•œ ì—¬ëŸ¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¤‘ í•˜ë‚˜. ë°°ì—´ê³¼ ê°ì²´ì˜ ëŒ€ì²´ì¬ë¡œ ì‚¬ìš© ê°€ëŠ¥. ëª¨ë“  ì—°ì‚°ì´ ì›ë³¸ì„ ë³€ê²½í•˜ì§€ ì•Šê³  ë³µì œëœ ì›ë³¸ì„ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤. <br>
-> ê²¬ê³ í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“œëŠ”ë° ë„ì›€ì´ ë¨!

## ğŸ“‘ router
: URLì— ë”°ë¼ ì ë‹¹í•œ ì»´í¬ë„ŒíŠ¸ê°€ ì‹¤í–‰ë˜ê²Œ í•  ìˆ˜ ìˆë‹¤. ìì—°ìŠ¤ëŸ½ê²Œ URLë¡œ ì ‘ê·¼í•˜ëŠ” ì‚¬ìš©ìì—ê²ŒëŠ” ê·¸ URLì— í•´ë‹¹í•˜ëŠ” UIë¥¼ ì„œë¹„ìŠ¤í•  ìˆ˜ ìˆëŠ” í¼ë¨¸ë§í¬(parmalink) ê¸°ëŠ¥ë„ ì œê³µí•  ìˆ˜ ìˆë‹¤. (npm ìœ¼ë¡œ ì„¤ì¹˜í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥)

## ğŸ“‘ Redux
: ë¦¬ì•¡íŠ¸ì— ì»´í¬ë„ŒíŠ¸ê°€ ë§ì•„ì§€ë©´ ì»´í¬ë„ŒíŠ¸ ê°„ì˜ êµë¥˜ê°€ êµ‰ì¥íˆ ê¹Œë‹¤ë¡œì›Œì§. <br>
--> ì¤‘ì•™ì— ë°ì´í„° ì €ì¥ì†Œë¥¼ í•˜ë‚˜ ë§Œë“¤ê³ , ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ê·¸ ì¤‘ì•™ ì €ì¥ì†Œì™€ ì§ì ‘ ì—°ê²°í•œë‹¤. <br>
--> ì €ì¥ì†Œì˜ ë°ì´í„°ê°€ ë³€ê²½ë˜ë©´ ê·¸ì™€ ê´€ë ¨ëœ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ì˜í–¥ì„ ë°›ì•„ì„œ ë³€í™”í•œë‹¤.

## ğŸ“‘ React server side rendering
: ì„œë²„ìª½ì—ì„œ ì›¹ í˜ì´ì§€ë¥¼ ì™„ì„±í•œ í›„ì—, í´ë¼ì´ì–¸íŠ¸ë¡œ ì™„ì„±ëœ HTMLì„ ì „ì†¡í•˜ëŠ” ê²ƒìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ êµ¬ë™ì„ ì‹œì‘í•  ìˆ˜ ìˆë‹¤. <br>
-> ì´ˆê¸° êµ¬ë™ ì‹œê°„ ë‹¨ì¶•, ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© í•„ìš”X ìœ ì§€, ê²€ìƒ‰ì—”ì§„ ë“±ì˜ ë´‡ë“¤ì´ HTML íƒœê·¸ë¥¼ ì§ì ‘ ì½ê²Œ í•  ìˆ˜ ìˆìŒ.

## ğŸ“‘ React Native
: ë„¤ì´í‹°ë¸Œ ì•±ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤. -> IOSë‚˜ ì•ˆë“œë¡œì´ë“œ ê°™ì€ í”Œë«í¼ì—ì„œ ì§ì ‘ êµ¬ë™ë˜ëŠ” ì•±ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.


