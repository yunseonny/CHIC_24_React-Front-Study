# Ch 2. ë¦¬ì•¡íŠ¸ í´ë˜ìŠ¤ ìŠ¤íƒ€ì¼ vs. í•¨ìˆ˜ ìŠ¤íƒ€ì¼

# ëª©í‘œ

Reactì—ì„œ componentë¥¼ ë§Œë“œëŠ” ë‘ ê°€ì§€ ë°©ë²•

### í´ë˜ìŠ¤ ë°©ì‹ / í•¨ìˆ˜ ë°©ì‹

ì´ì „ ë°©ì‹ì˜ react

- í•¨ìˆ˜ ë°©ì‹ì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ stateë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
- í•¨ìˆ˜ ë°©ì‹ì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ìƒì„±Â·ë³€ê²½Â·ì†Œë©¸ì— ëŒ€í•œ ì´ë²¤íŠ¸ì¸ ë¼ì´í”„ì‚¬ì´í´ APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

hook ë„ì… ì´í›„ì˜ react

- í•¨ìˆ˜ ë°©ì‹ì—ì„œë„ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ stateë¥¼ ë‹¤ë£° ìˆ˜ ìˆê²Œ ëë‹¤.

---

### ì˜ˆì œ

![Untitled](Ch%202%20%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A2%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A2%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20vs%20%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20d33121252de14394aa91db6dd83b3814/Untitled.png)

# state

### í´ë˜ìŠ¤ ë°©ì‹

App.jsì—ì„œ, í´ë˜ìŠ¤ ë°©ì‹ì˜ componentì— state ì „ë‹¬í•˜ê¸°

```jsx
function App() {
  return (
    <div className="container">
      <h1>hell world!</h1>
      <FuncComp initNumber={2}></FuncComp>
      <ClassComp initNumber={2}></ClassComp>
    </div>
  );
}
```

```jsx

class ClassComp extends React.Component {
  state = {
    number: this.props.initNumber, // state ì´ˆê¸°í™”
  };
  render() {
    return (
      <div className="container">
        <h2>class style component</h2>
        <p>Number : {this.state.number}</p> <!-- ë°›ì€ state ì¶œë ¥ -->
        <input
          type="button"
          value="random"
          onClick={function () {
          // ë‚œìˆ˜ ìƒì„±
            this.setState({ number: Math.random() }); 
          }.bind(this)}
        ></input>
      </div>
    );
  }
}
```

### Hook - í•¨ìˆ˜ ë°©ì‹

reactì—ì„œ ì œê³µí•˜ëŠ” í›… `useState`ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ importë¬¸ ì¶”ê°€

```jsx
import React, { useState } from "react";
```

```jsx
function FuncComp(props) {
  var numberState = useState(props.initNumber);
  var number = numberState[0];
  var setNumber = numberState[1];
  console.log("numberState", numberState);
  return (
    <div className="container">
      <h2>function style component</h2>
      <p>Number : {number}</p>
      <input
        type="button"
        value="random"
        onClick={function () {
          setNumber(Math.random());
        }}
      ></input>
    </div>
  );
}
```

![Untitled](Ch%202%20%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A2%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A2%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20vs%20%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20d33121252de14394aa91db6dd83b3814/Untitled%201.png)

console logë¥¼ í™•ì¸í•˜ë©´, useStateëŠ” ê¸¸ì´ê°€ 2ì¸ ë°°ì—´ì„ ë°˜í™˜í•˜ê²Œ ë¨ì„ ì•Œ ìˆ˜ ìˆë‹¤.

ì²« ë²ˆì§¸ ì›ì†ŒëŠ” `useState(props.initNumber)`ë¡œ ë°›ì€ í˜„ì¬ ìƒíƒœ ê°’ì´ê³ ,

ë‘ ë²ˆì§¸ ì›ì†ŒëŠ” ìƒˆë¡œìš´ ìƒíƒœ ê°’ì„ ë°›ì•„ stateë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜ `setNumber`ì´ë‹¤.

[ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ í•¨ìˆ˜ëŠ” ê°’ìœ¼ë¡œ ì·¨ê¸‰ëœë‹¤](https://webclub.tistory.com/114)

ì°¸ê³ 

date í‘œì‹œ ê¸°ëŠ¥ êµ¬í˜„

```jsx
function FuncComp(props) {
  var numberState = useState(props.initNumber);
  var number = numberState[0];
  var setNumber = numberState[1];

  // var dateState = useState(new Date().toString());
  // var _date = dateState[0];
  // var setDate = dateState[1];

  var [_date, setDate] = useState(new Date().toString()); // êµ¬ì¡°ë¶„í•´í• ë‹¹

  console.log("numberState", numberState);
  return (
    <div className="container">
      <h2>function style component</h2>
      <p>Number : {number}</p>
      <p>Date : {_date}</p>
      <input
        type="button"
        value="random"
        onClick={function () {
          setNumber(Math.random());
        }}
      ></input>
      <input
        type="button"
        value="date"
        onClick={function () {
          setDate(new Date().toString());
        }}
      ></input>
    </div>
  );
}

class ClassComp extends React.Component {
  state = {
    number: this.props.initNumber,
    data: new Date().toString(),
  };
  render() {
    return (
      <div className="container">
        <h2>class style component</h2>
        <p>Number : {this.state.number}</p>
        <p>Date : {this.state.date}</p>
        <input
          type="button"
          value="random"
          onClick={function () {
            this.setState({ number: Math.random() });
          }.bind(this)}
        ></input>
        <input
          type="button"
          value="date"
          onClick={function () {
            this.setState({ date: new Date().toString() });
          }.bind(this)}
        ></input>
      </div>
    );
  }
}
```

[TIL 50 | React : useState Hookì˜ êµ¬ì¡°ë¶„í•´í• ë‹¹](https://velog.io/@itssweetrain/React-useState-Hookì˜-Destructuring-Assignment)

ì°¸ê³ 

# í´ë˜ìŠ¤ì—ì„œ ë¼ì´í”„ì‚¬ì´í´ êµ¬í˜„í•˜ê¸°

## í´ë˜ìŠ¤ ë°©ì‹ì—ì„œ ë¼ì´í”„ì‚¬ì´í´

ì›í•˜ëŠ” íƒ€ì´ë°ì— ì‹¤í–‰í•˜ê³ ì í•˜ëŠ” ì½”ë“œë¥¼ í•´ë‹¹ ë©”ì†Œë“œ ì•ˆì— êµ¬í˜„í•´ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.

[[React] React ì»´í¬ë„ŒíŠ¸ì˜ ìƒëª… ì£¼ê¸° (Life Cycle)](https://shape-coding.tistory.com/entry/React-React-ì»´í¬ë„ŒíŠ¸ì˜-ìƒëª…-ì£¼ê¸°-Life-Cycle)

![Untitled](Ch%202%20%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A2%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A2%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20vs%20%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20d33121252de14394aa91db6dd83b3814/Untitled%202.png)

```jsx
var classStyle = "color:red";
class ClassComp extends React.Component {
  state = {
    number: this.props.initNumber,
    data: new Date().toString(),
  };
  UNSAFE_componentWillMount() { // ë†’ì€ ë²„ì „ì˜ reactì—ì„œ componentWillMount, componentWillUpdateë¥¼ ì‚¬ìš©í•  ë•Œì—ëŠ” UNSAFE í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ì•¼ í•œë‹¤.
    console.log("%cclass => componentWillMount", classStyle); // %c css ìŠ¤íƒ€ì¼ ì¶”ê°€ë¥¼ ìœ„í•´ ë¶™ì¸ ê²ƒ
  }
  componentDidMount() {
    console.log("%cclass => componentDidMount", classStyle);
  }
  shouldComponentUpdate(nextProps, nextState) {
    console.log("%cclass => shouldComponentUpdate", classStyle);
    return true;
  }
  UNSAFE_componentWillUpdate(nextProps, nextState) {
    console.log("%cclass => componentWillUpdate", classStyle);
  }
  componentDidUpdate(nextProps, nextState) {
    console.log("%cclass => componentDidUpdate", classStyle);
  }
  render() {
    console.log("%cclass => render", classStyle);
    return (
    ...(ìƒëµ)
```

- (ì°¸ê³ )componentWillUpdate, componentWillMountê°€ unsafeí•œ ì´ìœ 
    
    **`componentWillUpdate`**Â ë©”ì„œë“œê°€ 'unsafeâ€™ë¡œ ê°„ì£¼ë˜ëŠ” ì´ìœ ëŠ” ì£¼ë¡œ ë‘ ê°€ì§€ì…ë‹ˆë‹¤:
    
    1. **ë¹„ë™ê¸° ë Œë”ë§ê³¼ì˜ í˜¸í™˜ì„± ë¬¸ì œ**: React 16.3 ì´í›„ë¡œ React íŒ€ì€ ë¹„ë™ê¸° ë Œë”ë§ì„ ë„ì…í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´Â **`componentWillUpdate`**ì™€ ê°™ì€ ìƒëª…ì£¼ê¸° ë©”ì„œë“œê°€ ì˜ˆìƒì¹˜ ëª»í•œ ë°©ì‹ìœ¼ë¡œ ë™ì‘í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.Â [ì˜ˆë¥¼ ë“¤ì–´,Â **`componentWillUpdate`**Â ë‚´ì—ì„œÂ **`setState`**ë¥¼ í˜¸ì¶œí•˜ë©´, ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œë˜ì–´ë„ í•œ ë²ˆë§Œ ì—…ë°ì´íŠ¸ë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤1](https://stackoverflow.com/questions/60460093/why-is-componentwillmount-componentwillupdate-and-other-lifecycle-methods-i).
    2. **ë¶ˆí•„ìš”í•œ ë Œë”ë§**:Â **`componentWillUpdate`**ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì—…ë°ì´íŠ¸ë  ë•Œë§ˆë‹¤ í˜¸ì¶œë©ë‹ˆë‹¤. ë”°ë¼ì„œ ì´ ë©”ì„œë“œ ë‚´ì—ì„œ ìƒíƒœë¥¼ ë³€ê²½í•˜ë©´, ê·¸ë¡œ ì¸í•´ ì¶”ê°€ì ì¸ ë Œë”ë§ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.Â [ì´ëŠ” ì„±ëŠ¥ì— ë¶€ì •ì ì¸ ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤1](https://stackoverflow.com/questions/60460093/why-is-componentwillmount-componentwillupdate-and-other-lifecycle-methods-i).
    
    [ì´ëŸ¬í•œ ì´ìœ ë¡œ ì¸í•´ React íŒ€ì€Â **`componentWillUpdate`**ë¥¼ deprecated(ì‚¬ìš©ì´ ê¶Œì¥ë˜ì§€ ì•ŠëŠ”) ìƒíƒœë¡œ ì§€ì •í•˜ê³ , ëŒ€ì‹ Â **`getSnapshotBeforeUpdate`**ë‚˜Â **`componentDidUpdate`**ì™€ ê°™ì€ ë‹¤ë¥¸ ìƒëª…ì£¼ê¸° ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ê²ƒì„ ê¶Œì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤2](https://stackoverflow.com/questions/51644862/componentwillupdate-is-deprecated-in-react-how-can-i-replace-it)[1](https://stackoverflow.com/questions/60460093/why-is-componentwillmount-componentwillupdate-and-other-lifecycle-methods-i). ì´ë“¤ ë©”ì„œë“œëŠ”Â **`componentWillUpdate`**ì™€ ìœ ì‚¬í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ë§Œ, ìœ„ì—ì„œ ì–¸ê¸‰í•œ ë¬¸ì œì ë“¤ì„ í•´ê²°í•˜ê³  ìˆìŠµë‹ˆë‹¤. ğŸ˜Š
    

`constructor` - `componentWillMount` - `render` - `componentDidMount`

`componentWillMount` render ì‹¤í–‰ ì „ì— ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ë‚´ìš©ì„ êµ¬í˜„í•œ ë©”ì†Œë“œ

`componentDidMount` render ì‹¤í–‰ í›„(í™”ë©´ì— ë‚´ìš©ì´ ê·¸ë ¤ì§„ í›„) ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ë‚´ìš©ì„ êµ¬í˜„í•œ ë©”ì†Œë“œ

![Untitled](Ch%202%20%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A2%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A2%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20vs%20%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20d33121252de14394aa91db6dd83b3814/Untitled%203.png)

í´ë˜ìŠ¤ componentì˜ random ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ,

`shouldComponentUpdate` - `componentWillUpdate` - `render` - `componentDidUpdate`

![Untitled](Ch%202%20%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A2%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A2%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20vs%20%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20d33121252de14394aa91db6dd83b3814/Untitled%204.png)

`componentWillUnmount`ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì†Œë©¸ë  ë•Œ í˜¸ì¶œë˜ë¯€ë¡œ ìœ„ ì˜ˆì œì—ì„œëŠ” í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤. 

## í•¨ìˆ˜ ë°©ì‹ì—ì„œ ë¼ì´í”„ì‚¬ì´í´

## useEffect

`componentWillMount`ë‚˜ `componentDidUpdate`ì™€ ìœ ì‚¬í•˜ê²Œ, ì›¹ í˜ì´ì§€ê°€ ì²˜ìŒìœ¼ë¡œ ë Œë”ë§ëì„ ë•Œ, renderê°€ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ ì‹¤í–‰ëœë‹¤.

**side effect**ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë Œë”ë§ëœ í›„ ë‚˜ì¤‘ì— í•˜ëŠ” ì‘ì—…ì´ë‹¤. hook ì´ë¦„ì˜ effectëŠ” **side effect**ì˜ effectë¥¼ í‘œí˜„í•œ ê²ƒì´ë‹¤. 

**main effec**tëŠ” FuncCompë¥¼ í˜¸ì¶œí–ˆì„ ë•Œ ë°˜í™˜ëœ ê²ƒì„ í™”ë©´ì— í‘œì‹œí•˜ëŠ” ì‘ì—…ì´ë‹¤.

```
function FuncComp(props) {
  var numberState = useState(props.initNumber);
  var number = numberState[0];
  var setNumber = numberState[1];

  // var dateState = useState(new Date().toString());
  // var _date = dateState[0];
  // var setDate = dateState[1];

  var [_date, setDate] = useState(new Date().toString());

  // side effect
  useEffect(function () {
    console.log("%cfunc=>useEffect" + ++funcId, funcStyle);
    document.title = number + " : " + _date;
  });

  console.log("%cfunc=>render " + ++funcId, funcStyle);
  return (
  ...
```

![Untitled](Ch%202%20%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A2%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A2%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20vs%20%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20d33121252de14394aa91db6dd83b3814/Untitled%205.png)

ì•„ë˜ì™€ ê°™ì´ ì—´ ê°œì˜ useEffectë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆë‹¤.

```jsx
  // side effect
  useEffect(function () {
    console.log("%cfunc=>useEffect A (componentDidMount & componentDidUpdate" + ++funcId, funcStyle);
    document.title = number + " : " + _date;
  });

  useEffect(function () {
    console.log("%cfunc=>useEffect B (componentDidMount & componentDidUpdate" + ++funcId, funcStyle);
    document.title = number + " : " + _date;
  });
```

![Untitled](Ch%202%20%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A2%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A2%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20vs%20%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20d33121252de14394aa91db6dd83b3814/Untitled%206.png)

---

### clean up

ë¼ì´í”Œì‚¬ì´í´ êµ¬í˜„ì„ ìœ„í•´ì„œëŠ”

DOM(Document Object Model)ì´ ë“±ì¥ ë•Œ ìˆ˜í–‰í•´ì•¼ í•  ì´ˆê¸° ì‘ì—…ì„ êµ¬í˜„í•œë‹¤. 

ì»´í¬ë„ŒíŠ¸ê°€ í‡´ì¥í•˜ê±°ë‚˜ ì†Œë©¸í•  ë•Œ ìˆ˜í–‰í•´ì•¼ í•  ì‘ì—…ì„ êµ¬í˜„í•œë‹¤. 

useEffectì—ì„œ ì´ë¥¼ êµ¬í˜„í•˜ë ¤ë©´, **ì²« ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬í•œ í•¨ìˆ˜(clean up)ì˜ ë°˜í™˜ê°’ìœ¼ë¡œ êµ¬í˜„**í•˜ë©´ ëœë‹¤.

useEffectëŠ” ì›¹ í˜ì´ì§€ê°€ ì²˜ìŒìœ¼ë¡œ ë Œë”ë§ëì„ ë•Œ, renderê°€ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ ì‹¤í–‰ëœë‹¤.

render í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ê³  useEffectê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ê¸° ì „ì— ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•œ ê²½ìš°, ë°˜í™˜ê°’ìœ¼ë¡œ í•´ë‹¹ ë‚´ìš©ì„ êµ¬í˜„í•œ í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ë©´ ê·¸ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. 

`Clean-up í•¨ìˆ˜`ë€, `useEffect()`ì—ì„œÂ **parameter**ë¡œ ë„£ì€ í•¨ìˆ˜ì˜Â **return í•¨ìˆ˜**ì´ë‹¤.

**Component**ì˜Â **unmountì´ì „ / updateì§ì „**ì— ì–´ë– í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ì‹¶ë‹¤ë©´Â `Clean-upí•¨ìˆ˜`ë¥¼ ë°˜í™˜í•´ ì£¼ì–´ì•¼ í•œë‹¤.

- unmount ë  ë•Œ `useEffect(func, [])`
- íŠ¹ì •ê°’ update ì§ì „ `useEffect(func, [íŠ¹ì •ê°’])`

[React - Effect Hook ( Clean-up )](https://velog.io/@enjoywater/React-Effect-Hook-Clean-up)

```jsx
	// side effect
  useEffect(function () {
    console.log(
      "%cfunc=>useEffect (componentDidMount & componentDidUpdate)" + ++funcId, funcStyle);
    document.title = number + " : " + _date;
    return function () {
      console.log(
        "%cfunc => useEffect return (componentDidMount & componentDidUpdate)" + ++funcId, funcStyle);
    };
  });
```

![Untitled](Ch%202%20%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A2%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A2%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20vs%20%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20d33121252de14394aa91db6dd83b3814/Untitled%207.png)

---

### skipping effect

ì„±ëŠ¥ì„ ìœ„í•´ effect í˜¸ì¶œì„ ìƒëµí•˜ëŠ” ê¸°ë²•ì´ë‹¤.

componentDidUpdateëŠ” stateê°€ ë°”ë€” ë•Œë§ˆë‹¤ ì´ì „ props ê°’ê³¼ ì´ì „ state ê°’ì„ ì¸ìë¡œ ì „ë‹¬í•œë‹¤. í•¨ìˆ˜ê°€ ì „ë‹¬í•´ ê°’ì„ ë³€ê²½ëœ ê°’ê³¼ ë¹„êµí•´ ì„œë¡œ ë‹¤ë¥¼ ë•Œì—ë§Œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.

ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ë©´, randomê³¼ date ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ í•´ë‹¹í•˜ëŠ” ê°’ì— ëŒ€í•´ì„œë§Œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.

```jsx
// side effect
  useEffect(
    function () {
      console.log(
        "%cfunc => useEffect number (componentDidMount & componentDidUpdate)" +
          ++funcId,
        funcStyle
      );
      document.title = number;
      return function () {
        console.log(
          "%cfunc => useEffect number return (componentDidMount & componentDidUpdate)" +
            ++funcId,
          funcStyle
        );
      };
    },
    [number]
  );

  useEffect(
    function () {
      console.log(
        "%cfunc => useEffect _date (componentDidMount & componentDidUpdate" +
          ++funcId,
        funcStyle
      );
      document.title = _date;
      return function () {
        console.log(
          "%cfunc => useEffect _date (componentDidMount & componentDidUpdate" +
            ++funcId,
          funcStyle
        );
      };
    },
    [_date]
  );

```

![Untitled](Ch%202%20%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A2%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A2%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20vs%20%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20d33121252de14394aa91db6dd83b3814/Untitled%208.png)